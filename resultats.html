<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>FigueMania - Résultats</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f8f8f8; }
    h1 { text-align: center; }
    .match-card {
      background: #fff; padding: 15px; margin-bottom: 20px;
      border: 1px solid #ddd; border-radius: 8px;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
    }
    .roster-select { margin: 10px 0; }
    label { margin-right: 10px; font-weight: bold; }
    select, input[type="checkbox"] { margin-left: 5px; }
    .results { margin-top: 30px; padding: 15px; background: #e9ffe9; border: 1px solid #aaa; }
    button {
      margin-top: 10px; padding: 8px 16px; border: none; border-radius: 6px;
      background: #007BFF; color: #fff; cursor: pointer;
    }
    button:hover { background: #0056b3; }
  </style>
</head>
<body>

  <h1>Résultats des combats</h1>

  <!-- Choix du show -->
  <div class="match-card">
    <label for="show">Show :</label>
    <select id="show">
      <option>LFF WAR</option>
      <option>LFF GOLD</option>
      <option>LFF BRAWLOUT</option>
      <option>LFF WRESTLEKICK</option>
      <option>LFF ANNIVERSARY</option>
      <option>LFF THRONEBREAKER</option>
      <option>LFF ROAD TO GLORY</option>
    </select>
  </div>

  <!-- Carte du match -->
  <div class="match-card">
    <h2>Match</h2>

    <div class="roster-select">
      <label for="participants">Nombre de participants :</label>
      <select id="participants" onchange="genererParticipants()">
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
      </select>
    </div>

    <div id="participantsZone"></div>

    <div class="roster-select">
      <label for="stipulation">Stipulation :</label>
      <select id="stipulation">
        <option>Match simple</option>
        <option>Cage Match</option>
        <option>Table Match</option>
        <option>Ladder Match</option>
        <option>No Disqualification</option>
        <option>Last Man Standing</option>
        <option>Falls Count Anywhere</option>
        <option>Iron Man Match</option>
        <option>Battle Royal</option>
        <option>Triple Threat</option>
        <option>Fatal 4-Way</option>
      </select>
    </div>

    <div class="roster-select">
      <label>
        <input type="checkbox" id="championship"> Match de championnat
      </label>
    </div>

    <button onclick="publierResultat()">Publier le résultat</button>
  </div>

  <!-- Zone d'affichage des résultats -->
  <div class="results" id="resultats">
    <h3>Résultats publiés :</h3>
    <ul id="listeResultats"></ul>
  </div>

  <script>
    const roster = [
      "Dupont Claire", "Martin Hugo", "Nguyen Lin",
      "Moreau Lea", "Garcia Omar", "Petit Louis", "Roux Emma"
    ];

    // Charger résultats sauvegardés
    window.onload = () => {
      genererParticipants();
      const sauvegardes = JSON.parse(localStorage.getItem("resultats")) || [];
      sauvegardes.forEach(texte => afficherResultat(texte));
    };

    // Générer la sélection des participants
    function genererParticipants() {
      const zone = document.getElementById("participantsZone");
      zone.innerHTML = "";
      const nb = parseInt(document.getElementById("participants").value);

      for (let i = 1; i <= nb; i++) {
        const div = document.createElement("div");
        div.class
