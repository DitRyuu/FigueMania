<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>FigueMania - R√©sultats</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f8f8f8; }
    h1 { text-align: center; }
    .match-card {
      background: #fff; padding: 15px; margin-bottom: 20px;
      border: 1px solid #ddd; border-radius: 8px;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
    }
    .roster-select { margin: 10px 0; }
    label { margin-right: 10px; font-weight: bold; }
    select, input[type="checkbox"] { margin-left: 5px; }
    .results { margin-top: 30px; padding: 15px; background: #e9ffe9; border: 1px solid #aaa; }
    button {
      margin-top: 10px; padding: 8px 16px; border: none; border-radius: 6px;
      background: #007BFF; color: #fff; cursor: pointer;
    }
    button:hover { background: #0056b3; }
    #championshipTitle { display: none; margin-top: 10px; }
  </style>
</head>
<body>

  <h1>R√©sultats des combats</h1>

  <!-- Choix du show -->
  <div class="match-card">
    <label for="show">Show :</label>
    <select id="show">
      <option>LFF WAR</option>
      <option>LFF GOLD</option>
      <option>LFF BRAWLOUT</option>
      <option>LFF WRESTLEKICK</option>
      <option>LFF ANNIVERSARY</option>
      <option>LFF THRONEBREAKER</option>
      <option>LFF ROAD TO GLORY</option>
    </select>
  </div>

  <!-- Carte du match -->
  <div class="match-card">
    <h2>Match</h2>

    <div class="roster-select">
      <label for="participants">Nombre de participants :</label>
      <select id="participants" onchange="genererParticipants()">
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
      </select>
    </div>

    <div id="participantsZone"></div>

    <div class="roster-select">
      <label for="stipulation">Stipulation :</label>
      <select id="stipulation">
        <option>Match simple</option>
        <option>Cage Match</option>
        <option>Table Match</option>
        <option>Ladder Match</option>
        <option>No Disqualification</option>
        <option>Last Man Standing</option>
        <option>Falls Count Anywhere</option>
        <option>Iron Man Match</option>
        <option>Battle Royal</option>
        <option>Triple Threat</option>
        <option>Fatal 4-Way</option>
      </select>
    </div>

    <div class="roster-select">
      <label>
        <input type="checkbox" id="championship" onchange="toggleTitleSelect()"> Match de championnat
      </label>
    </div>

    <!-- Liste des titres (affich√©e seulement si case coch√©e) -->
    <div class="roster-select" id="championshipTitle">
      <label for="title">Titre en jeu :</label>
      <select id="title">
        <option>LFF World Heavyweight Championship</option>
        <option>LFF Championship</option>
        <option>LFF World Women's Championship</option>
        <option>LFF Women's Championship</option>
        <option>LFF Rising Star Championship</option>
        <option>LFF Eurocontinental Championship</option>
        <option>LFF Women's Eurocontinental Championship</option>
        <option>LFF WAR Tag Team Championship</option>
        <option>LFF European Championship</option>
        <option>LFF Women's European Championship</option>
        <option>LFF GOLD Tag Team Championship</option>
        <option>LFF Hardcore Championship</option>
      </select>
    </div>

    <button onclick="publierResultat()">Publier le r√©sultat</button>
  </div>

  <!-- Zone d'affichage des r√©sultats -->
  <div class="results" id="resultats">
    <h3>R√©sultats publi√©s :</h3>
    <ul id="listeResultats"></ul>
  </div>

  <script>
    const roster = [
      "Dupont Claire", "Martin Hugo", "Nguyen Lin",
      "Moreau Lea", "Garcia Omar", "Petit Louis", "Roux Emma"
    ];

    // Charger r√©sultats sauvegard√©s
    window.onload = () => {
      genererParticipants();
      const sauvegardes = JSON.parse(localStorage.getItem("resultats")) || [];
      sauvegardes.forEach(texte => afficherResultat(texte));
    };

    // G√©n√©rer la s√©lection des participants
    function genererParticipants() {
      const zone = document.getElementById("participantsZone");
      zone.innerHTML = "";
      const nb = parseInt(document.getElementById("participants").value);

      for (let i = 1; i <= nb; i++) {
        const div = document.createElement("div");
        div.className = "roster-select";
        div.innerHTML = `
          <label for="catcheur${i}">Catcheur ${i} :</label>
          <select id="catcheur${i}">
            ${roster.map(name => `<option>${name}</option>`).join("")}
          </select>
          <select id="result${i}">
            <option value="Victoire">Victoire</option>
            <option value="D√©faite">D√©faite</option>
            <option value="No contest">No contest</option>
          </select>
        `;
        zone.appendChild(div);
      }
    }

    // Afficher ou cacher la liste des titres
    function toggleTitleSelect() {
      const checked = document.getElementById("championship").checked;
      document.getElementById("championshipTitle").style.display = checked ? "block" : "none";
    }

    // Publier un r√©sultat
    function publierResultat() {
      const nb = parseInt(document.getElementById("participants").value);
      const stip = document.getElementById("stipulation").value;
      const championnat = document.getElementById("championship").checked;
      const show = document.getElementById("show").value;

      let texte = `[${show}] `;
      for (let i = 1; i <= nb; i++) {
        const catcheur = document.getElementById(`catcheur${i}`).value;
        const result = document.getElementById(`result${i}`).value;
        texte += `${catcheur} (${result}) `;
        if (i < nb) texte += "vs ";
      }
      texte += `‚Äî ${stip}`;

      if (championnat) {
        const titre = document.getElementById("title").value;
        texte += ` üèÜ ${titre}`;
      }

      afficherResultat(texte);

      // Sauvegarde
      const sauvegardes = JSON.parse(localStorage.getItem("resultats")) || [];
      sauvegardes.push(texte);
      localStorage.setItem("resultats", JSON.stringify(sauvegardes));
    }

    // Affichage du r√©sultat
    function afficherResultat(texte) {
      const li = document.createElement("li");
      li.textContent = texte;
      document.getElementById("listeResultats").appendChild(li);
    }
  </script>

</body>
</html>
